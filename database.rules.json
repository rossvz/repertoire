{
  "rules": {
    "songs": {
      ".indexOn": ["votes"],
      ".read": true,
      "$songId": {
        "id": {
          ".write": "auth != null"
        },
        "title": {
          ".write": "auth != null"
        },
        "artist": {
          ".write": "auth != null"
        },
        "album": {
          ".write": "auth != null"
        },
        "albumArtwork": {
          ".write": "auth != null"
        },
        "visible": {
          ".write": "auth != null"
        },
        "votes": {
          ".write": "auth != null || newData.isNumber()"
        }
      }
    },
    "shows": {
      ".indexOn": ["date"],
      ".read": true,
      ".write": "auth != null"
    },
    "votes": {
      "$ip": {
        "$songId": {
          ".read": false,
          ".write": "!data.exists() || (newData.exists() && newData.val() > data.val())"
        }
      }
    }
  }
}